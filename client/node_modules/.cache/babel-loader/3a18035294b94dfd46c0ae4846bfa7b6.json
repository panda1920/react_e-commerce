{"ast":null,"code":"import ShopActionTypes from './shop.types';\nimport { firestore, convertCollectionSnapshotToMap } from '../../firebase/firebaseutils';\nexport function updateCollections(collectionsMap) {\n  return {\n    type: ShopActionTypes.UPDATE_COLLECTIONS,\n    payload: collectionsMap\n  };\n}\nexport function fetchCollectionsStart() {\n  return {\n    type: ShopActionTypes.FETCH_COLLECTIONS_START\n  };\n}\nexport function fetchCollectionsSuccess(collections) {\n  return {\n    type: ShopActionTypes.FETCH_COLLECTIONS_SUCCESS,\n    payload: collections\n  };\n}\nexport function fetchCollectionsFailure(errorMessage) {\n  return {\n    type: ShopActionTypes.FETCH_COLLECTIONS_FAILURE,\n    payload: errorMessage\n  };\n}\nexport function fetchCollectionsStartAsync() {\n  return dispatch => {\n    dispatch(fetchCollectionsStart());\n    const colletctionRef = firestore.collection('collection');\n    colletctionRef.get().then(snapshot => {\n      const collections = convertCollectionSnapshotToMap(snapshot);\n      dispatch(fetchCollectionsSuccess(collections));\n    }).catch(error => {\n      dispatch(fetchCollectionsFailure(error.message));\n    });\n  };\n}","map":{"version":3,"sources":["C:/Myprojects/React/crwn-clothing/src/redux/shop/shop.actions.js"],"names":["ShopActionTypes","firestore","convertCollectionSnapshotToMap","updateCollections","collectionsMap","type","UPDATE_COLLECTIONS","payload","fetchCollectionsStart","FETCH_COLLECTIONS_START","fetchCollectionsSuccess","collections","FETCH_COLLECTIONS_SUCCESS","fetchCollectionsFailure","errorMessage","FETCH_COLLECTIONS_FAILURE","fetchCollectionsStartAsync","dispatch","colletctionRef","collection","get","then","snapshot","catch","error","message"],"mappings":"AAAA,OAAOA,eAAP,MAA4B,cAA5B;AAEA,SAASC,SAAT,EAAoBC,8BAApB,QAA0D,8BAA1D;AAEA,OAAO,SAASC,iBAAT,CAA2BC,cAA3B,EAA2C;AAChD,SAAO;AACLC,IAAAA,IAAI,EAAEL,eAAe,CAACM,kBADjB;AAELC,IAAAA,OAAO,EAAEH;AAFJ,GAAP;AAID;AAED,OAAO,SAASI,qBAAT,GAAiC;AACtC,SAAO;AACLH,IAAAA,IAAI,EAAEL,eAAe,CAACS;AADjB,GAAP;AAGD;AAED,OAAO,SAASC,uBAAT,CAAiCC,WAAjC,EAA8C;AACnD,SAAO;AACLN,IAAAA,IAAI,EAAEL,eAAe,CAACY,yBADjB;AAELL,IAAAA,OAAO,EAAEI;AAFJ,GAAP;AAID;AAED,OAAO,SAASE,uBAAT,CAAiCC,YAAjC,EAA+C;AACpD,SAAO;AACLT,IAAAA,IAAI,EAAEL,eAAe,CAACe,yBADjB;AAELR,IAAAA,OAAO,EAAEO;AAFJ,GAAP;AAID;AAED,OAAO,SAASE,0BAAT,GAAsC;AAC3C,SAAQC,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAACT,qBAAqB,EAAtB,CAAR;AACA,UAAMU,cAAc,GAAGjB,SAAS,CAACkB,UAAV,CAAqB,YAArB,CAAvB;AAEAD,IAAAA,cAAc,CAACE,GAAf,GAAqBC,IAArB,CAA0BC,QAAQ,IAAI;AACpC,YAAMX,WAAW,GAAGT,8BAA8B,CAACoB,QAAD,CAAlD;AACAL,MAAAA,QAAQ,CAACP,uBAAuB,CAACC,WAAD,CAAxB,CAAR;AACD,KAHD,EAGGY,KAHH,CAGSC,KAAK,IAAI;AAChBP,MAAAA,QAAQ,CAACJ,uBAAuB,CAACW,KAAK,CAACC,OAAP,CAAxB,CAAR;AACD,KALD;AAMD,GAVD;AAWD","sourcesContent":["import ShopActionTypes from './shop.types';\r\n\r\nimport { firestore, convertCollectionSnapshotToMap } from '../../firebase/firebaseutils';\r\n\r\nexport function updateCollections(collectionsMap) {\r\n  return {\r\n    type: ShopActionTypes.UPDATE_COLLECTIONS,\r\n    payload: collectionsMap,\r\n  };\r\n}\r\n\r\nexport function fetchCollectionsStart() {\r\n  return {\r\n    type: ShopActionTypes.FETCH_COLLECTIONS_START\r\n  };\r\n}\r\n\r\nexport function fetchCollectionsSuccess(collections) {\r\n  return {\r\n    type: ShopActionTypes.FETCH_COLLECTIONS_SUCCESS,\r\n    payload: collections\r\n  };\r\n}\r\n\r\nexport function fetchCollectionsFailure(errorMessage) {\r\n  return {\r\n    type: ShopActionTypes.FETCH_COLLECTIONS_FAILURE,\r\n    payload: errorMessage,\r\n  };\r\n}\r\n\r\nexport function fetchCollectionsStartAsync() {\r\n  return (dispatch) => {\r\n    dispatch(fetchCollectionsStart());\r\n    const colletctionRef = firestore.collection('collection');\r\n    \r\n    colletctionRef.get().then(snapshot => {\r\n      const collections = convertCollectionSnapshotToMap(snapshot);\r\n      dispatch(fetchCollectionsSuccess(collections));\r\n    }).catch(error => {\r\n      dispatch(fetchCollectionsFailure(error.message));\r\n    })\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}